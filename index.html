<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naijpedia - Nigeria's Premier Search Engine</title>
    <meta name="description" content="Real-time Nigerian news, grants, jobs, and opportunities">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        .backdrop-blur-xl {
            backdrop-filter: blur(20px);
        }

        .backdrop-blur-lg {
            backdrop-filter: blur(12px);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        .transition-all {
            transition: all 0.3s ease;
        }

        input:focus {
            outline: none;
        }

        button:disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .bg-pattern {
            position: absolute;
            inset: 0;
            opacity: 0.05;
            background-image: radial-gradient(circle at 2px 2px, white 1px, transparent 0);
            background-size: 40px 40px;
        }

        .glass-card {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.08);
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div id="app" class="min-h-screen bg-black text-white relative overflow-hidden">
        <!-- Background Pattern -->
        <div class="bg-pattern"></div>

        <!-- Header -->
        <header class="relative z-10 border-b border-white border-opacity-10">
            <div class="max-w-7xl mx-auto px-4 py-6">
                <div class="flex items-center justify-between">
                    <button onclick="goHome()" class="text-3xl font-bold tracking-tight hover:text-gray-300 transition-colors cursor-pointer">
                        Naijpedia
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="relative z-10">
            <!-- Hero Section -->
            <section id="hero" class="max-w-4xl mx-auto px-4 py-24 text-center">
                <h2 class="text-5xl font-bold mb-4 tracking-tight">
                    Nigeria's Premier Search Engine
                </h2>
                <p class="text-xl text-gray-400 mb-8 max-w-2xl mx-auto">
                    Real-time News or Comprehensive Knowledge - You Choose!
                </p>

                <!-- Search Mode Toggle -->
                <div class="mb-8">
                    <p class="text-sm text-gray-500 text-center mb-3">Choose Search Type:</p>
                    <div class="flex gap-4 justify-center">
                        <button
                            onclick="setSearchMode('news')"
                            id="mode-news"
                            class="px-8 py-3.5 bg-white text-black rounded-xl font-semibold transition-all shadow-lg flex items-center gap-2 text-lg"
                        >
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"></path>
                                <path d="M18 14h-8"></path>
                                <path d="M15 18h-5"></path>
                                <path d="M10 6h8v4h-8V6Z"></path>
                            </svg>
                            News & Jobs
                        </button>
                        <button
                            onclick="setSearchMode('knowledge')"
                            id="mode-knowledge"
                            class="px-8 py-3.5 backdrop-blur-lg bg-white bg-opacity-5 border-2 border-white border-opacity-20 rounded-xl font-semibold hover:bg-opacity-10 transition-all flex items-center gap-2 text-lg"
                        >
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                                <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                                <path d="M12 6v8l3-3"></path>
                            </svg>
                            Information & History
                        </button>
                    </div>
                    <p class="text-xs text-gray-600 text-center mt-3" id="modeDescription">
                        Latest Nigerian news, grants, jobs, tech updates & sports
                    </p>
                </div>

                <!-- Search Bar -->
                <div class="mb-16">
                    <div class="relative backdrop-blur-xl bg-white bg-opacity-5 rounded-2xl border border-white border-opacity-10 shadow-2xl p-2">
                        <div class="flex items-center gap-3 px-4">
                            <svg class="text-gray-400" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input
                                type="text"
                                id="heroSearch"
                                placeholder="Search for news, grants, jobs, tech updates..."
                                class="flex-1 bg-transparent border-none outline-none text-lg py-4 placeholder-gray-500"
                                onkeypress="if(event.key==='Enter') performSearch()"
                            />
                            <button
                                onclick="performSearch()"
                                id="heroSearchBtn"
                                class="px-8 py-3 bg-white text-black rounded-xl font-medium hover:bg-gray-200 transition-all flex items-center gap-2"
                            >
                                Search
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Trending Searches -->
                <div class="backdrop-blur-xl bg-white bg-opacity-5 rounded-2xl border border-white border-opacity-10 p-8">
                    <div class="flex items-center gap-2 mb-6 justify-center">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-gray-400">
                            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                            <polyline points="17 6 23 6 23 12"></polyline>
                        </svg>
                        <h3 class="text-lg font-semibold">Trending Searches</h3>
                    </div>
                    <div class="flex flex-wrap gap-3 justify-center" id="trendingTags"></div>
                </div>
            </section>

            <!-- Results Section -->
            <section id="results" class="max-w-6xl mx-auto px-4 py-12 hidden">
                <!-- Search Bar (Compact) -->
                <div class="mb-8">
                    <div class="backdrop-blur-xl bg-white bg-opacity-5 rounded-xl border border-white border-opacity-10 p-2">
                        <div class="flex items-center gap-3 px-4">
                            <svg class="text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                            <input
                                type="text"
                                id="resultsSearch"
                                placeholder="Search..."
                                class="flex-1 bg-transparent border-none outline-none py-3 placeholder-gray-500"
                                onkeypress="if(event.key==='Enter') performSearch()"
                            />
                            <button
                                onclick="performSearch()"
                                id="resultsSearchBtn"
                                class="px-6 py-2 bg-white text-black rounded-lg font-medium hover:bg-gray-200 transition-all text-sm flex items-center gap-2"
                            >
                                Search
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Category Filters (News Mode Only) -->
                <div class="flex gap-3 mb-8 overflow-x-auto pb-2" id="categoryFilters"></div>

                <!-- Knowledge Answer Section -->
                <div id="knowledgeSection" class="mb-8 hidden">
                    <div class="backdrop-blur-xl bg-white bg-opacity-5 rounded-2xl border border-white border-opacity-10 p-8 mb-6">
                        <h3 class="text-2xl font-bold mb-4 flex items-center gap-2">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                            </svg>
                            Overview
                        </h3>
                        <div id="aiAnswer" class="text-gray-300 text-lg leading-relaxed whitespace-pre-line"></div>
                    </div>
                </div>

                <!-- Error Message -->
                <div id="errorMsg" class="backdrop-blur-xl bg-red-500 bg-opacity-10 border border-red-500 border-opacity-30 rounded-xl p-4 mb-6 hidden">
                    <p class="text-red-300" id="errorText"></p>
                </div>

                <!-- Loading State -->
                <div id="loading" class="flex items-center justify-center py-20 hidden">
                    <div class="text-center">
                        <svg class="animate-spin mx-auto mb-4" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 12a9 9 0 1 1-6.219-8.56"></path>
                        </svg>
                        <p class="text-gray-400">Searching Nigerian news sources...</p>
                    </div>
                </div>

                <!-- Results Count -->
                <p id="resultsCount" class="text-gray-400 text-sm mb-6"></p>

                <!-- No Results -->
                <div id="noResults" class="backdrop-blur-xl bg-white bg-opacity-5 rounded-2xl border border-white border-opacity-10 p-12 text-center hidden">
                    <p class="text-xl text-gray-400 mb-4">No results found</p>
                    <p class="text-gray-500 mb-6">Try a different search term or category</p>
                    <button
                        onclick="goHome()"
                        class="px-6 py-3 backdrop-blur-lg bg-white bg-opacity-5 rounded-xl border border-white border-opacity-10 hover:bg-opacity-10 transition-all"
                    >
                        Back to Home
                    </button>
                </div>

                <!-- Results Grid -->
                <div id="resultsGrid" class="space-y-6"></div>

                <!-- Back to Home -->
                <div class="mt-12 text-center">
                    <button
                        onclick="goHome()"
                        class="px-6 py-3 backdrop-blur-lg bg-white bg-opacity-5 rounded-xl border border-white border-opacity-10 hover:bg-opacity-10 transition-all"
                    >
                        New Search
                    </button>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="relative z-10 border-t border-white border-opacity-10 mt-24">
            <div class="max-w-7xl mx-auto px-4 py-12">
                <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                    <div>
                        <p class="text-2xl font-bold mb-2">Naijpedia</p>
                        <p class="text-gray-500 text-sm">Nigeria's Premier Search Engine</p>
                    </div>
                </div>
                <div class="text-center mt-8 text-gray-600 text-sm">
                    © 2025 Naijpedia. All rights reserved.
                </div>
            </div>
        </footer>
    </div>

    <script>
        let currentQuery = '';
        let activeCategory = 'all';
        let newsArticles = [];
        let searchMode = 'news';
        
        const trendingSearches = {
            news: [
                'Nigerian tech news',
                'Student grants 2025',
                'Remote jobs Nigeria',
                'Lagos business news',
                'Nigeria sports updates',
                'University scholarships'
            ],
            knowledge: [
                'Nnamdi Azikiwe',
                'Nigerian Independence',
                'Lagos history',
                'Chinua Achebe',
                'Nigerian Civil War',
                'Ooni of Ife'
            ]
        };

        const categories = [
            { id: 'all', name: 'All' },
            { id: 'news', name: 'News' },
            { id: 'grants', name: 'Grants' },
            { id: 'jobs', name: 'Jobs' },
            { id: 'tech', name: 'Tech' },
            { id: 'sports', name: 'Sports' },
        ];

        function init() {
            renderTrendingTags();
            renderCategoryFilters();
            fetchNigerianNews('Nigeria latest news');
        }

        function setSearchMode(mode) {
            searchMode = mode;
            const newsBtn = document.getElementById('mode-news');
            const knowledgeBtn = document.getElementById('mode-knowledge');
            const heroSearch = document.getElementById('heroSearch');
            const modeDescription = document.getElementById('modeDescription');
            
            if (mode === 'news') {
                newsBtn.className = 'px-8 py-3.5 bg-white text-black rounded-xl font-semibold transition-all shadow-lg flex items-center gap-2 text-lg';
                knowledgeBtn.className = 'px-8 py-3.5 backdrop-blur-lg bg-white bg-opacity-5 border-2 border-white border-opacity-20 rounded-xl font-semibold hover:bg-opacity-10 transition-all flex items-center gap-2 text-lg';
                heroSearch.placeholder = 'Search for news, grants, jobs, tech updates...';
                modeDescription.textContent = 'Latest Nigerian news, grants, jobs, tech updates & sports';
            } else {
                knowledgeBtn.className = 'px-8 py-3.5 bg-white text-black rounded-xl font-semibold transition-all shadow-lg flex items-center gap-2 text-lg';
                newsBtn.className = 'px-8 py-3.5 backdrop-blur-lg bg-white bg-opacity-5 border-2 border-white border-opacity-20 rounded-xl font-semibold hover:bg-opacity-10 transition-all flex items-center gap-2 text-lg';
                heroSearch.placeholder = 'Ask about Nigerian history, public figures, culture, events...';
                modeDescription.textContent = 'Get detailed information from Wikipedia & AI about Nigeria, history, culture & public figures';
            }
            
            renderTrendingTags();
        }

        function renderTrendingTags() {
            const container = document.getElementById('trendingTags');
            const searches = trendingSearches[searchMode];
            container.innerHTML = searches.map(term => `
                <button
                    onclick="searchTrending('${term}')"
                    class="px-5 py-2 backdrop-blur-lg bg-white bg-opacity-5 rounded-full border border-white border-opacity-10 hover:bg-opacity-10 transition-all text-sm"
                >
                    ${term}
                </button>
            `).join('');
        }

        function renderCategoryFilters() {
            const container = document.getElementById('categoryFilters');
            container.innerHTML = categories.map(cat => `
                <button
                    onclick="setCategory('${cat.id}')"
                    id="cat-${cat.id}"
                    class="flex items-center gap-2 px-5 py-2.5 backdrop-blur-lg rounded-full border transition-all whitespace-nowrap ${
                        cat.id === 'all' ? 'bg-white text-black border-white' : 'bg-white bg-opacity-5 border-white border-opacity-10 hover:bg-opacity-10'
                    }"
                >
                    <span class="text-sm font-medium">${cat.name}</span>
                </button>
            `).join('');
        }

        function setCategory(catId) {
            activeCategory = catId;
            categories.forEach(cat => {
                const btn = document.getElementById(`cat-${cat.id}`);
                if (cat.id === catId) {
                    btn.className = 'flex items-center gap-2 px-5 py-2.5 backdrop-blur-lg rounded-full border transition-all whitespace-nowrap bg-white text-black border-white';
                } else {
                    btn.className = 'flex items-center gap-2 px-5 py-2.5 backdrop-blur-lg rounded-full border transition-all whitespace-nowrap bg-white bg-opacity-5 border-white border-opacity-10 hover:bg-opacity-10';
                }
            });
            renderResults();
        }

        function searchTrending(term) {
            document.getElementById('heroSearch').value = term;
            currentQuery = term;
            if (searchMode === 'news') {
                fetchNigerianNews(term);
            } else {
                fetchKnowledge(term);
            }
        }

        function performSearch() {
            const heroInput = document.getElementById('heroSearch');
            const resultsInput = document.getElementById('resultsSearch');
            const query = heroInput.value.trim() || resultsInput.value.trim();
            
            if (query) {
                currentQuery = query;
                heroInput.value = query;
                resultsInput.value = query;
                if (searchMode === 'news') {
                    fetchNigerianNews(query);
                } else {
                    fetchKnowledge(query);
                }
            }
        }

        function goHome() {
            document.getElementById('hero').classList.remove('hidden');
            document.getElementById('results').classList.add('hidden');
            document.getElementById('heroSearch').value = '';
            document.getElementById('resultsSearch').value = '';
            currentQuery = '';
        }

        function showResults() {
            document.getElementById('hero').classList.add('hidden');
            document.getElementById('results').classList.remove('hidden');
        }

        function setLoading(isLoading) {
            const loadingEl = document.getElementById('loading');
            const heroBtn = document.getElementById('heroSearchBtn');
            const resultsBtn = document.getElementById('resultsSearchBtn');
            
            if (isLoading) {
                loadingEl.classList.remove('hidden');
                heroBtn.disabled = true;
                resultsBtn.disabled = true;
                heroBtn.innerHTML = '<svg class="animate-spin" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg><span class="ml-2">Searching...</span>';
                resultsBtn.innerHTML = '<svg class="animate-spin" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg><span class="ml-2">Searching...</span>';
            } else {
                loadingEl.classList.add('hidden');
                heroBtn.disabled = false;
                resultsBtn.disabled = false;
                heroBtn.innerHTML = 'Search';
                resultsBtn.innerHTML = 'Search';
            }
        }

        function showError(message) {
            const errorEl = document.getElementById('errorMsg');
            const errorText = document.getElementById('errorText');
            errorText.textContent = message;
            errorEl.classList.remove('hidden');
            setTimeout(() => errorEl.classList.add('hidden'), 5000);
        }

        function determineCategory(text) {
            const lower = text.toLowerCase();
            if (lower.includes('tech') || lower.includes('startup') || lower.includes('digital') || lower.includes('software') || lower.includes('internet')) return 'tech';
            if (lower.includes('sport') || lower.includes('football') || lower.includes('athlete') || lower.includes('match') || lower.includes('league')) return 'sports';
            if (lower.includes('grant') || lower.includes('scholarship') || lower.includes('fund') || lower.includes('award')) return 'grants';
            if (lower.includes('job') || lower.includes('employment') || lower.includes('hiring') || lower.includes('career') || lower.includes('work')) return 'jobs';
            return 'news';
        }

        function formatDate(dateString) {
            if (!dateString) return 'Recently';
            
            try {
                const date = new Date(dateString);
                const now = new Date();
                const diffTime = Math.abs(now - date);
                const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays === 0) return 'Today';
                if (diffDays === 1) return 'Yesterday';
                if (diffDays < 7) return `${diffDays} days ago`;
                return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            } catch (e) {
                return 'Recently';
            }
        }

        async function fetchNigerianNews(query) {
            setLoading(true);
            showResults();
            document.getElementById('categoryFilters').classList.remove('hidden');
            document.getElementById('knowledgeSection').classList.add('hidden');

            try {
                const response = await fetch('/api/search/news', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ query })
                });

                if (!response.ok) {
                    throw new Error('Failed to fetch news');
                }

                const data = await response.json();
                const articles = data.results.map(article => ({
                    ...article,
                    date: formatDate(article.date),
                    category: determineCategory(article.title + ' ' + (article.summary || ''))
                }));

                if (articles.length === 0) {
                    showError('No news found for this query. Try different keywords.');
                }

                newsArticles = articles;
                renderResults();

            } catch (err) {
                console.error('Error fetching news:', err);
                showError('Unable to fetch news. Please try again later.');
            } finally {
                setLoading(false);
            }
        }

        async function fetchKnowledge(query) {
            setLoading(true);
            showResults();
            document.getElementById('categoryFilters').classList.add('hidden');
            document.getElementById('knowledgeSection').classList.remove('hidden');

            try {
                const response = await fetch('/api/search/knowledge', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ query })
                });

                if (!response.ok) {
                    throw new Error('Failed to fetch knowledge');
                }

                const data = await response.json();
                renderKnowledgeResults(data);

            } catch (err) {
                console.error('Error fetching knowledge:', err);
                showError('Unable to fetch information. Please try again later.');
            } finally {
                setLoading(false);
            }
        }

        function renderKnowledgeResults(data) {
            const aiAnswerEl = document.getElementById('aiAnswer');
            const gridEl = document.getElementById('resultsGrid');
            const countEl = document.getElementById('resultsCount');
            const noResultsEl = document.getElementById('noResults');

            if (data.aiAnswer) {
                aiAnswerEl.textContent = data.aiAnswer;
            } else {
                aiAnswerEl.textContent = 'No detailed information available at this time.';
            }

            if (data.wikipedia && data.wikipedia.length > 0) {
                countEl.textContent = `Found ${data.wikipedia.length} Wikipedia articles for "${currentQuery}"`;
                noResultsEl.classList.add('hidden');
                
                gridEl.innerHTML = data.wikipedia.map(result => `
                    <article class="glass-card p-8">
                        <div class="flex items-start justify-between mb-4">
                            <h3 class="text-2xl font-bold pr-4 hover:text-gray-300 transition-colors">
                                ${result.title}
                            </h3>
                            <span class="text-xs text-gray-500 bg-white bg-opacity-5 px-3 py-1 rounded-full whitespace-nowrap">
                                ${result.source}
                            </span>
                        </div>
                        
                        <p class="text-gray-300 text-lg mb-4 leading-relaxed">
                            ${result.snippet}
                        </p>

                        <div class="flex items-center justify-between">
                            <a href="${result.url}" target="_blank" rel="noopener noreferrer" 
                               class="inline-flex items-center gap-2 px-5 py-2.5 backdrop-blur-lg bg-white bg-opacity-5 rounded-lg border border-white border-opacity-10 hover:bg-opacity-10 transition-all">
                                Read Full Article
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                            </a>
                        </div>
                    </article>
                `).join('');
            } else {
                countEl.textContent = '';
                gridEl.innerHTML = '';
            }
        }

        function renderResults() {
            const filteredResults = activeCategory === 'all' 
                ? newsArticles 
                : newsArticles.filter(r => r.category === activeCategory);

            const countEl = document.getElementById('resultsCount');
            const noResultsEl = document.getElementById('noResults');
            const gridEl = document.getElementById('resultsGrid');

            if (filteredResults.length === 0) {
                countEl.textContent = '';
                noResultsEl.classList.remove('hidden');
                gridEl.innerHTML = '';
                return;
            }

            noResultsEl.classList.add('hidden');
            countEl.textContent = `Found ${filteredResults.length} results ${currentQuery ? `for "${currentQuery}"` : ''}`;

            gridEl.innerHTML = filteredResults.map(result => `
                <article class="glass-card p-8">
                    <div class="flex items-start justify-between mb-4">
                        <h3 class="text-2xl font-bold pr-4 hover:text-gray-300 transition-colors">
                            ${result.title}
                        </h3>
                        <span class="text-xs text-gray-500 bg-white bg-opacity-5 px-3 py-1 rounded-full whitespace-nowrap">
                            ${result.category}
                        </span>
                    </div>
                    
                    <p class="text-gray-300 text-lg mb-4 leading-relaxed">
                        ${result.summary.substring(0, 300)}${result.summary.length > 300 ? '...' : ''}
                    </p>

                    <div class="flex items-center justify-between pt-4 border-t border-white border-opacity-5">
                        <div class="flex items-center gap-4 text-sm text-gray-500">
                            <span class="font-medium">${result.source}</span>
                            <span>•</span>
                            <span>${result.date}</span>
                        </div>
                        <a
                            href="${result.url}"
                            target="_blank"
                            rel="noopener noreferrer"
                            class="flex items-center gap-2 text-gray-400 hover:text-white transition-colors"
                        >
                            <span>Read full article</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                <polyline points="15 3 21 3 21 9"></polyline>
                                <line x1="10" y1="14" x2="21" y2="3"></line>
                            </svg>
                        </a>
                    </div>
                </article>
            `).join('');
        }

        init();
    </script>
</body>
</html>
